import{u as v,r as l,c as r,a as s,w as d,v as u,t as h,b as _,d as w,e as f,o as c,f as b}from"./index-CAtGiEpz.js";const k={id:"loginPage",class:"bg-yellow"},C={class:"conatiner loginPage vhContainer"},x=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),y={class:"formControls",action:"index.html"},I=s("h2",{class:"formControls_txt"},"Todo List",-1),P=s("label",{class:"formControls_label",for:"email"},"Email",-1),V=s("label",{class:"formControls_label",for:"pwd"},"Password",-1),L={key:0},$="https://todolist-api.hexschool.io",M={__name:"LoginView",setup(B){const i=v(),o=l({email:"",password:""}),m=l(""),n=l(""),p=l(""),g=async()=>{try{const t=await f.post(`${$}/users/sign_in`,o.value);m.value=t.data.token,document.cookie=`customName=${t.data.token};`,p.value=t.data.token,n.value="",i.push("/todo")}catch(t){n.value=t.response.data.message,console.log(t.response.data.message),o.value.email="",o.value.password=""}};return(t,e)=>(c(),r("div",k,[s("div",C,[x,s("div",null,[s("form",y,[I,P,d(s("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"Please insert email",required:"","onUpdate:modelValue":e[0]||(e[0]=a=>o.value.email=a)},null,512),[[u,o.value.email]]),V,d(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"Please insert password",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>o.value.password=a)},null,512),[[u,o.value.password]]),n.value?(c(),r("span",L,h(n.value),1)):_("",!0),s("input",{class:"formControls_btnSubmit",type:"button",onClick:e[2]||(e[2]=a=>g()),value:"Login"}),s("a",{class:"formControls_btnLink",href:"#",onClick:e[3]||(e[3]=w(a=>b(i).push("/register"),["prevent"]))},"Register")])])])]))}};export{M as default};
