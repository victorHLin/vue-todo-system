import{u as f,r as i,c as d,a as s,w as n,v as r,t as g,b as w,d as v,e as _,o as m,f as h}from"./index-Dmb1MAEr.js";import{s as C}from"./showAlert-BaSqmw_f.js";const b={id:"signUpPage",class:"bg-yellow"},y={class:"conatiner signUpPage vhContainer"},k=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),x={class:"formControls",action:"index.html"},P=s("h2",{class:"formControls_txt"},"Register",-1),R=s("label",{class:"formControls_label",for:"email"},"Email",-1),V=s("label",{class:"formControls_label",for:"name"},"Nickname",-1),U=s("label",{class:"formControls_label",for:"pwd"},"Password",-1),q=s("label",{class:"formControls_label",for:"pwdConfirm"},"Confirm Password",-1),B={key:0},E="https://todolist-api.hexschool.io",$={__name:"RegisterView",setup(M){const u=f(),o=i({email:"",password:"",passwordConfirm:"",nickname:""}),p=i(""),a=i(""),c=async()=>{if(o.value.password!==o.value.passwordConfirm){a.value="Passwords are not the same";return}try{const l=await _.post(`${E}/users/sign_up`,o.value);p.value=l.data.uid,a.value="",setTimeout(()=>{C("Register Success","Redirect to login page","success","OK"),u.push("/login")},500)}catch(l){a.value=l.response.data.message}};return(l,e)=>(m(),d("div",b,[s("div",y,[k,s("div",null,[s("form",x,[P,R,n(s("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"Please enter your email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.email=t)},null,512),[[r,o.value.email]]),V,n(s("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"Please enter your name","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.nickname=t)},null,512),[[r,o.value.nickname]]),U,n(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"Please enter your password",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.password=t)},null,512),[[r,o.value.password]]),q,n(s("input",{class:"formControls_input",type:"password",name:"pwdConfirm",id:"pwdConfirm",placeholder:"Please enter your password again",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.passwordConfirm=t)},null,512),[[r,o.value.passwordConfirm]]),a.value?(m(),d("span",B,g(a.value),1)):w("",!0),s("input",{class:"formControls_btnSubmit",type:"button",onClick:e[4]||(e[4]=t=>c()),value:"Register"}),s("a",{class:"formControls_btnLink",href:"#",onClick:e[5]||(e[5]=v(t=>h(u).push("login"),["prevent"]))},"Login")])])])]))}};export{$ as default};
