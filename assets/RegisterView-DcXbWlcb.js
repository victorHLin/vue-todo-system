import{u as f,r as i,c as u,a as s,w as n,v as r,t as g,b as w,d as v,e as _,o as m,f as h}from"./index-CAtGiEpz.js";const C={id:"signUpPage",class:"bg-yellow"},b={class:"conatiner signUpPage vhContainer"},y=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),k={class:"formControls",action:"index.html"},x=s("h2",{class:"formControls_txt"},"Register",-1),P=s("label",{class:"formControls_label",for:"email"},"Email",-1),V=s("label",{class:"formControls_label",for:"name"},"Nickname",-1),R=s("label",{class:"formControls_label",for:"pwd"},"Password",-1),U=s("label",{class:"formControls_label",for:"pwdConfirm"},"Confirm Password",-1),q={key:0},B="https://todolist-api.hexschool.io",N={__name:"RegisterView",setup(E){const d=f(),o=i({email:"",password:"",passwordConfirm:"",nickname:""}),p=i(""),a=i(""),c=async()=>{if(o.value.password!==o.value.passwordConfirm){a.value="Passwords are not the same";return}try{const l=await _.post(`${B}/users/sign_up`,o.value);p.value=l.data.uid,a.value="",setTimeout(()=>{alert("Register success! Please login"),d.push("/login")},500)}catch(l){a.value=l.response.data.message}};return(l,e)=>(m(),u("div",C,[s("div",b,[y,s("div",null,[s("form",k,[x,P,n(s("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"Please insert email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.email=t)},null,512),[[r,o.value.email]]),V,n(s("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"Please insert your name","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.nickname=t)},null,512),[[r,o.value.nickname]]),R,n(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"Please insert password",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.password=t)},null,512),[[r,o.value.password]]),U,n(s("input",{class:"formControls_input",type:"password",name:"pwdConfirm",id:"pwdConfirm",placeholder:"Please insert password again",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.passwordConfirm=t)},null,512),[[r,o.value.passwordConfirm]]),a.value?(m(),u("span",q,g(a.value),1)):w("",!0),s("input",{class:"formControls_btnSubmit",type:"button",onClick:e[4]||(e[4]=t=>c()),value:"Register"}),s("a",{class:"formControls_btnLink",href:"#",onClick:e[5]||(e[5]=v(t=>h(d).push("login"),["prevent"]))},"Login")])])])]))}};export{N as default};
